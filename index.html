<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>カメラ検証</title>
		<script>
			window.onload = function () {
				var queryString = window.location.search;
				var queryObject = new Object();
				if(queryString){
					queryString = queryString.substring(1);
					var parameters = queryString.split('&');
					var view = parameters.length;
					var videoCodec = "";
					for (var i = 0; i < parameters.length; i++) {
						var element = parameters[i].split('=');
						var paramName = decodeURIComponent(element[0]);
						var paramValue = decodeURIComponent(element[1]);
						if (paramName == "videoCodec") {
							videoCodec = "&videoCodec=" + paramValue;
							view = view - 1;
						}
						else {
							queryObject[paramName] = "./recvonly.html?roomId=" + paramValue;
							var iframe = document.createElement("iframe");
							iframe.id = paramName;
							iframe.className = "cameraIFrame";
							document.getElementById("container").appendChild(iframe);
						}
					}
					var width = "98%";
					var height = "96%";
					switch (view) {
						case 1:
							break;
						case 2:
							width = "49%";
							break;
						case 3:
						case 4:
							width = "49%";
							height = "48%";
							break;
					}

					var elements = document.querySelectorAll('iframe');
					for (var i = 0; i < elements.length; i++) {
						elements[i].src = queryObject[elements[i].id] + videoCodec;
						elements[i].style.margin = "2px";
						elements[i].style.border = "0px";
						elements[i].style.width = width;
						elements[i].style.height = height;
					}
				}
			}
		</script>
				<style>
					body {
						margin: 0 auto;
						width: 100%;
					}
					div {
						width: 100%;
						display: inline-block;
						text-align: center;
					}
				</style>
	</head>
	<body>
		<div id="container"></div>
	</body>
</html>
